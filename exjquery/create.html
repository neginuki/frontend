<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>
    const createBrewery = async () => {
        const response = await fetch("http://localhost:8080/breweries/", {
            method: "POST",
            headers: {
                Accept: "application/json",
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                breweryName: $("#breweryName").val(),
                breweryNameKana: $("#breweryNameKana").val(),
                address: $("#address").val(),
                foundedYear: $("#foundedYear").val(),
                establishedDate: $("#establishedDate").val(),
                defunctDate: $("#defunctDate").val(),
                url: $("#url").val(),
                note: $("#note").val()
            })
        });

        await response.json();

        window.location.href = "./list.html";
    };
</script>

<style>
    div div {
        margin: 20px;
    }

    textarea {
        width: 500px;
        height: 250px;
    }
</style>

<main>
    <h1>蔵元作成</h1>
    <div>
        <div>
            <span>蔵名</span>
            <input id="breweryName" placeholder="e.g. 廣木酒造本店" />
        </div>
        <div>
            <span>蔵名（かな）</span>
            <input id="breweryNameKana" placeholder="e.g. ひろきしゅぞうほんてん" />
        </div>
        <div>
            <span>住所</span>
            <input id="address" placeholder=" e.g. 福島県会津若松市XXX " />
        </div>
        <div>
            <span>創業</span>
            <input type=" number" id="foundedYear" placeholder="e.g. 1978" />
        </div>
        <div>
            <span>設立</span>
            <input id="establishedDate" placeholder="e.g. 1919-12-31" />
        </div>
        <div>
            <span>廃業</span>
            <input id="defunctDate" placeholder="e.g. 2000-01-01" />
        </div>
        <div>
            <span>URL</span>
            <input id="url" placeholder="e.g. http://xxxx.yyyy" />
        </div>
        <div>
            <span>備考</span>
            <textarea id="note" placeholder="e.g. オフレコですが、実は、、、"></textarea>
        </div>
    </div>
    <button onclick="createBrewery()">登録</button>
</main>